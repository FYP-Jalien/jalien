/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
apply plugin: 'java'

repositories {
	mavenCentral()

	flatDir {
		dirs 'lib'
	}
}

sourceSets {
	main {
		java {
			srcDir 'src'
		}
	}
}

dependencies {
	implementation 'com.datastax:cassandra-driver-core:3.5.0'
	implementation 'guava:guava:19.0'
	implementation 'io.github.olivierlemasle.ca:java-ca-lib:0.0.1-SNAPSHOT'
	implementation 'jline:jline:2.12.1'
	implementation 'joptsimple:jopt-simple:4.8'
	implementation 'org.bouncycastle:bcpkix-jdk15on:1.52'
	implementation 'org.junit:junit-platform-console-standalone:1.3.1'
	implementation 'org.sqlite:sqlite-jdbc:3.9.1-SNAPSHOT'

	implementation name: 'apmon'
	implementation name: 'catalina'
	implementation name: 'FarmMonitor'
	implementation name: 'lazyj'
	implementation name: 'tomcat-embed-core'
	implementation name: 'tomcat-embed-el'
	implementation name: 'tomcat-embed-jasper'
	implementation name: 'tomcat-embed-websocket'
}

processResources {
	from('.') {
		include 'config/config.properties'
		include 'config/monitoring.properties'
	}
}

task baseJar(type: Jar) {
	archiveName 'alien.jar'
}

task usersJar(type: Jar) {
	archiveName 'alien-users.jar'
}

task csJar(type: Jar) {
	archiveName 'alien-cs.jar'
}

jar {
	baseJar
	usersJar
	csJar
}
